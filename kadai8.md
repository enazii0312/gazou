# 課題８
画像処理工学

　二値化された画像の連結成分にラベルをつけよ．

１．	使用プログラム


filename = uigetfile('*');

ORG=imread(filename); % 原画像の入力

ORG = rgb2gray(ORG); % 白黒濃淡画像に変換

imagesc(ORG); colormap(gray); colorbar; % 画像の表示

pause;

IMG = ORG > 128; % 閾値128で二値化

imagesc(IMG); colormap(gray); colorbar; % 画像の表示

pause;

IMG = bwlabeln(IMG);

imagesc(IMG); colormap(jet); colorbar; % 画像の表示

pause;


２．	実験結果
 
 ![原画像](https://github.com/enazii0312/image/blob/master/kadai8-1.jpg)
 
図１　原画像のグレースケール(170×170)

 ![原画像](https://github.com/enazii0312/image/blob/master/kadai8-2.jpg)
 
図２　閾値128の二値化画像

  ![原画像](https://github.com/enazii0312/image/blob/master/kadai8-3.jpg)
  
図３　図２のラベリング画像

３．	考察
　今回の課題はグレースケールの画像を二値化し、ラベリング画像を生成するものであった。
ラベリングとは、同じ連結成分に属する画素に同一番号を、異なる連結成分に異なる番号を与える処理の事を指す。この処理の手順を以下に示す。
①	画像をラスタ走査し、対象物を示すまだラベルが割り当てられていない連結成分の1‐画素を見つけ、その画素に新しいラベルを付ける。
②	その1‐画素に連結する1‐画素を調べ、それらに同一のラベルを割り当てる。
③	一つの連結成分のラベリングが終わると、元のラスタ走査の続きに戻り、まだラベルが割り当てられていない新しい連結成分の1‐画素を見つける。
④	前記①～③の操作をすべての1‐画素がなくなるまで続ける。
このようにしてラベリングが行われる。
　今回の場合は二値化を行った画像で行ったため、図１では確認できる消しゴム部分が無いものをラベリングした事になる。結果、図３では消しゴムケースの白部分は背景と同じ連結成分として扱われ、同一の色が付いている。しかし、黒文字のOは真ん中が異なる連結成分として扱われている為、異なる色でラベリングされていることが確認できる。
図３より二値化画像の図２がラベリングされ、正しく動作している事が確認できた。
